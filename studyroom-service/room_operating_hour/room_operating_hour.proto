syntax = "proto3";

package bannote.studyroomservice.roomoperatinghour.v1;

import "google/protobuf/timestamp.proto";
import "google/protobuf/empty.proto";

// ------------------------------------
// RoomOperatingHour
// ------------------------------------
message RoomOperatingHour {
  int64 id = 1;
  int64 room_id = 2;
  int32 day_of_week = 3;
  string opening_time = 4;
  string closing_time = 5;
  string day_maximum_time = 6;
  google.protobuf.Timestamp created_at = 7;
  google.protobuf.Timestamp updated_at = 8;
  google.protobuf.Timestamp deleted_at = 9;
}

// ------------------------------------
// 전체 조회 요청 / 응답
// ------------------------------------
message GetRoomOperatingHoursRequest {
  int64 room_id = 1;  // 특정 스터디룸의 운영시간 전체 조회
}

message GetRoomOperatingHoursResponse {
  repeated RoomOperatingHour room_operating_hours = 1;
}

// ------------------------------------
// 리스트 기반 전체 업데이트 요청
// ------------------------------------
message UpdateRoomOperatingHoursRequest {
  int64 room_id = 1;

  // 리스트 기반 업데이트
  repeated RoomOperatingHourUpdateItem operating_hours = 2;
}

// 업데이트용 item (id optional)
message RoomOperatingHourUpdateItem {
  int64 id = 1;
  int32 day_of_week = 2;
  string opening_time = 3;
  string closing_time = 4;
  string day_maximum_time = 5;
}

// // ------------------------------------
// // 서비스 정의 (GetAll + Update(List))
// // ------------------------------------
// service RoomOperatingHourService {

//   // 전체 조회
//   rpc GetRoomOperatingHours(GetRoomOperatingHoursRequest)
//       returns (GetRoomOperatingHoursResponse);

//   // 리스트 기반 업데이트
//   rpc UpdateRoomOperatingHours(UpdateRoomOperatingHoursRequest)
//       returns (google.protobuf.Empty);
// }
