syntax = "proto3";

package bannote.scheduleservice.schedule.v1;
import "schedule/schedule.proto";


service ScheduleService {
  rpc CreateSchedule(CreateScheduleRequest) returns (CreateScheduleResponse);
  rpc GetScheduleList(GetScheduleListRequest) returns (GetScheduleListResponse);
  rpc GetSchedule(GetScheduleRequest) returns (GetScheduleResponse);
  rpc UpdateSchedule(UpdateScheduleRequest) returns (UpdateScheduleResponse);
  rpc DeleteSchedule(DeleteScheduleRequest) returns (DeleteScheduleResponse);
  //개인 그룹은 그룹만 가질 수 있고 스케줄은 없을 수 있기떄문에
  rpc DeleteScheduleLink(DeleteScheduleLinkRequest)returns (DeleteScheduleLinkResponse);
}

// ================================
// 요청/응답 메시지 정의
// ================================
message CreateScheduleRequest {
  int64 group_id = 1;
  optional string comment = 2;
  bool is_highlighted = 3;
  string start_date = 4;
  string end_date = 5;
  int64 created_by = 6;
  ScheduleLinkData link = 7;
}

message ScheduleLinkData {
  string title = 1;
  optional int64 place_id = 2;
  optional string place_text = 3;
  string description = 4;
  string start_time = 5;
  string end_time = 6;
  bool is_allday = 7;
}
message GetScheduleListRequest {
  repeated int64 group_ids = 1;
  optional string start_date = 2;
  optional string end_date = 3;
  
  int32 page = 10;
  int32 per_page = 11;
}

message GetScheduleRequest {
  int64 schedule_id = 1;
}

message UpdateScheduleRequest {
  int64 schedule_id = 1;
  optional string comment = 2;
  optional bool is_highlighted = 3;
}

message DeleteScheduleRequest {
  int64 schedule_id = 1;
}

message DeleteScheduleResponse {
  bool success = 1;
}


message DeleteScheduleLinkRequest {
  int64 schedule_id = 1;
}

message DeleteScheduleLinkResponse {
  bool success = 1;
}

message CreateScheduleResponse {
  Schedule schedule = 1;
}

message GetScheduleResponse {
  Schedule schedule = 1;
}

message UpdateScheduleResponse {
  Schedule schedule = 1;
}

message GetScheduleListResponse {
  ScheduleListResponse schedule_list_response = 1;
}
